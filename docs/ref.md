# ðŸ”— `createRef` & `RefKey` ä½¿ç”¨æ–‡æ¡£

`createRef` æ˜¯ä¸€ä¸ªç”¨äºŽæž„å»ºé“¾å¼è·¯å¾„è¡¨è¾¾çš„å·¥å…·ï¼Œé€‚ç”¨äºŽæž„å»ºç»“æž„åŒ–å­—æ®µè·¯å¾„ï¼Œå¦‚æ•°æ®åº“å­—æ®µã€è¡¨å•å­—æ®µã€å·¥ä½œæµèŠ‚ç‚¹ç­‰ã€‚

---

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

- æ”¯æŒä»»æ„é“¾å¼å±žæ€§è®¿é—®ï¼š`ref.a.b.c`
- æœ€ç»ˆé€šè¿‡ `. $ref` èŽ·å–è·¯å¾„ä¿¡æ¯
- ç±»åž‹å®‰å…¨ï¼Œæ— éœ€ç¡¬ç¼–ç è·¯å¾„å­—ç¬¦ä¸²
- è¾“å‡ºæ ¼å¼ç»Ÿä¸€ï¼š`id.path`ï¼ˆå¦‚ `"user.name.age"`ï¼‰

---

## ðŸ§± API è¯´æ˜Ž

### `createRef(id: string): RefType`

åˆ›å»ºä¸€ä¸ªå¼•ç”¨è·¯å¾„å¯¹è±¡ã€‚

**å‚æ•°**

| åç§° | ç±»åž‹   | è¯´æ˜Ž           |
|------|--------|----------------|
| `id` | string | åˆå§‹æ ‡è¯†ç¬¦ï¼Œä¾‹å¦‚ `"user"`ã€`"ojbk"` |

**è¿”å›ž**

é“¾å¼å¯è®¿é—®çš„ `Proxy` å¯¹è±¡ï¼Œæœ€åŽé€šè¿‡ `. $ref` èŽ·å–è·¯å¾„ä¿¡æ¯ã€‚

---

### `RefKey` ç±»

é€šè¿‡ `. $ref` è¿”å›žçš„ç»“æž„å¯¹è±¡ï¼ŒåŒ…å«è·¯å¾„ä¿¡æ¯ã€‚

| å±žæ€§å | ç±»åž‹   | è¯´æ˜Ž                 |
|--------|--------|----------------------|
| `id`   | string | èµ·å§‹æ ‡è¯†ç¬¦            |
| `path` | string | è®¿é—®é“¾ç»„æˆçš„è·¯å¾„ï¼Œå¦‚ `a.b.c` |

**æ–¹æ³•**

- `toString()`ï¼šè¿”å›žæ ¼å¼ä¸º `id.path` çš„å­—ç¬¦ä¸²
- `[Symbol.toPrimitive]()`ï¼šæ”¯æŒæ¨¡æ¿å­—ç¬¦ä¸²æ’å€¼è‡ªåŠ¨è½¬å­—ç¬¦ä¸²

---

## ðŸ“Œ ä½¿ç”¨ç¤ºä¾‹

```ts
import { createRef } from './ref';

const ref = createRef('ojbk');

console.log(ref.a.b.c.$ref.id);     // => "ojbk"
console.log(ref.a.b.c.$ref.path);   // => "a.b.c"
console.log(String(ref.a.b.c.$ref)); // => "ojbk.a.b.c"
